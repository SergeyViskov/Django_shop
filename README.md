# Django_shop

## Django проект магазина продуктов со следующим функционалом:
* Реализована возможность создания, редактирования, удаления категорий и подкатегорий товаров в админке.

* Категории и подкатегории имеют наименование, slug-имя, изображение.

* Подкатегории связаны с родительской категорией.

* Реализован эндпоинт для просмотра всех категорий с подкатегориями. Предусмотрена пагинация.

* Реализована возможность добавления, изменения, удаления продуктов в админке.

* Продукты относятся к определенной подкатегории и, соответственно категории, имеют наименование, slug-имя, изображение в 3-х размерах, цену.

* Реализован эндпоинт вывода продуктов с пагинацией. Каждый продукт в выводе имеет поля: наименование, slug, категория, подкатегория, цена, список изображений.

* Реализован эндпоинт добавления, изменения (изменение количества), удаления продукта в корзине.

* Реализован эндпоинт вывода состава корзины с подсчетом количества товаров и суммы стоимости товаров в корзине.

* Реализована возможность полной очистки корзины.

* Операции по эндпоинтам категорий и продуктов может осуществлять любой пользователь.

* Операции по эндпоинтам корзины может осуществлять только авторизированный пользователь и только со своей корзиной.

* Реализована авторизация по токену.

## Запуск проекта в dev-режиме:
Инструкция ориентирована на операционную систему windows и утилиту git bash.<br/>
Для прочих инструментов используйте аналоги команд для вашего окружения.

1. Клонируйте репозиторий и перейдите в него в командной строке:

```
git clone https://github.com/SergeyViskov/Django_shop.git
```

```
cd Django_shop
```

2. Установите и активируйте виртуальное окружение
```
python -m venv venv
``` 
```
source venv/Scripts/activate
```

3. Установите зависимости из файла requirements.txt
```
pip install -r requirements.txt
```

4. В папке с файлом manage.py выполните миграции:
```
python manage.py migrate
```

5. В папке с файлом manage.py запустите сервер, выполнив команду:
```
python manage.py runserver
```

## Аутентификация по JWT-токену:
### Пример создания пользователя:
1. Отправьте POST-запрос на http://127.0.0.1:8000/auth/users/
```
{
    "username": "django_shop",
    "password": "Django_shop3"
}
```

2. Теперь можно получить токен: отправьте POST-запрос на эндпоинт /auth/jwt/create/, передав действующий логин и пароль в полях username и password

3. API вернёт JWT-токен

## Набор доступных эндпоинтов:
* ```super-category/``` - Просмотр всех категорий (_GET_);
* ```sub-category/``` - Просмотр всех подкатегорий (_GET_);
* ```goods/``` - Просмотр всех товаров (_GET_);
* ```goods/{id}/``` - Просмотр конкретного товара (_GET_);
* ```cart/``` - Получение, добавление, изменение, удаление корзины (_GET, POST, PUT, DELETE_).<br/>
